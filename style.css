/* ... (Seu CSS Existente at√© ao final das part√≠culas) ... */


/*
 * =========================================
 * üî• FOGO REAL√çSTICO (Estilo da Imagem de Refer√™ncia)
 * =========================================
 */

/* Posicionar o cont√™iner do fogo no topo do livro */
.fire-container {
    position: absolute;
    /* Move para o topo da lombada do livro */
    top: -50px; /* Ajuste para que comece um pouco acima do topo do livro */
    left: 50%;
    transform: translate(-50%, 0);
    width: 150px; /* Largura maior para as chamas se espalharem */
    height: 120px; /* Altura maior para as chamas subirem */
    
    z-index: 90; /* Z-Index alto, vis√≠vel acima do livro */
    
    pointer-events: none;
    opacity: 0; /* Come√ßa invis√≠vel */
    transition: opacity 0.8s ease-in-out, transform 0.8s ease-in-out; /* Transi√ß√£o mais suave */

    /* Brilho intenso e vibrante como na imagem */
    filter: 
        drop-shadow(0 0 25px rgba(255, 165, 0, 1)) /* Brilho laranja forte */
        drop-shadow(0 0 10px rgba(255, 220, 0, 0.8)) /* Brilho amarelo/ouro */
        drop-shadow(0 0 5px rgba(255, 255, 255, 0.5)); /* Brilho branco central */
}

/* Tornar o cont√™iner vis√≠vel quando o fogo estiver ativo */
.fire-container.active {
    opacity: 1;
    /* Ajuste o transform para animar a "apari√ß√£o" do fogo se quiser */
    /* transform: translate(-50%, -10px); */
}

/* Base da chama individual (fire-flame) */
.fire-flame {
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 30px; /* Chamas maiores e mais vis√≠veis */
    height: 40px; /* Mais altas */
    background: radial-gradient(circle at 50% 80%, #ffeb3b 0%, #ff9800 50%, #ff5722 100%); /* Gradiente para realismo */
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%; /* Forma de l√°grima mais acentuada */
    transform: translateX(-50%) rotate(0deg); /* Come√ßa sem rota√ß√£o para subir reto */
    opacity: 0.9;
    animation: 
        flame-flicker 1.5s infinite ease-in-out alternate, 
        flame-rise 2s infinite ease-out,
        flame-sway 3s infinite ease-in-out alternate; /* Nova anima√ß√£o de oscila√ß√£o */
}

/* Varia√ß√µes de cor e tamanho para o efeito 3D (para parecer uma chama complexa) */
.fire-flame:nth-child(1) {
    width: 35px; height: 50px;
    background: radial-gradient(circle at 50% 70%, #fffbda 0%, #ffd700 50%, #ff8c00 100%); /* N√∫cleo mais branco/amarelo */
    animation-delay: 0s;
    opacity: 1;
    z-index: 2;
    transform: translateX(-60%) rotate(5deg); /* Posi√ß√£o ligeiramente diferente */
}

.fire-flame:nth-child(2) {
    width: 30px; height: 45px;
    background: radial-gradient(circle at 50% 85%, #ffc107 0%, #ff5722 70%, #d50000 100%); /* Tons mais avermelhados */
    animation-delay: 0.5s;
    opacity: 0.8;
    z-index: 1;
    transform: translateX(-30%) rotate(-8deg);
}

.fire-flame:nth-child(3) {
    width: 25px; height: 35px;
    background: radial-gradient(circle at 50% 75%, #ffecb3 0%, #ff9800 60%, #ff3d00 100%); /* Chama menor e mais clara */
    animation-delay: 1s;
    opacity: 0.95;
    z-index: 3;
    transform: translateX(-40%) rotate(10deg);
}

.fire-flame:nth-child(4) {
    width: 40px; height: 55px;
    background: radial-gradient(circle at 50% 90%, #ff5722 0%, #d50000 50%, #8b0000 100%); /* Chama maior e mais escura na base */
    animation-delay: 1.5s;
    opacity: 0.7;
    z-index: 0;
    transform: translateX(-70%) rotate(-3deg);
}

/* Anima√ß√£o: Fogo a piscar (opacidade e pequena escala) */
@keyframes flame-flicker {
    0% { opacity: 0.8; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.05); }
    100% { opacity: 0.7; transform: scale(0.98); }
}

/* Anima√ß√£o: Fogo a subir */
@keyframes flame-rise {
    0% { transform: translateY(0); }
    50% { transform: translateY(-20px); } /* Sobe mais visivelmente */
    100% { transform: translateY(0); }
}

/* NOVA ANIMA√á√ÉO: Chamas a oscilar ligeiramente para um lado e para o outro */
@keyframes flame-sway {
    0% { transform: translateX(-50%) rotate(0deg); }
    33% { transform: translateX(-55%) rotate(3deg); }
    66% { transform: translateX(-45%) rotate(-3deg); }
    100% { transform: translateX(-50%) rotate(0deg); }
}


/* Efeito de calor e luz no livro (quando o fogo est√° ativo) */
.book-container.open.fire-active,
.book-container.fire-active { /* Aplica o brilho mesmo se o livro n√£o estiver completamente "open" */
    box-shadow: 0 0 80px rgba(255, 140, 0, 0.9), inset 0 0 60px rgba(255, 160, 0, 0.5); /* Brilho mais forte */
}

/* Ajustes de Z-index para garantir a ordem correta quando o fogo est√° ativo */
.book-container .book .page {
    z-index: 15; /* P√°ginas devem estar abaixo do fogo */
}
.book-container .fire-container {
    z-index: 90; /* O fogo est√° √† frente de tudo no livro, mas abaixo dos controles */
}
